function calcTime(a,e){var n=1e3*a.dstOffset+1e3*a.rawOffset,i=new Date(1e3*e+n);return i}!function(){"use strict";angular.module("testmax",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap"])}(),angular.module("testmax").controller("MainController",["$scope","$http",function(a,e){a.userName="Fabrício de Souza",a.title="Marcador de reunião internacional",a.dataRegex="",a.detalhes="",a.hideResults=function(){a.showResults=!1,a.showErrorImpossible=!1},a.mudalocal=function(n){n&&(a.showResults=!1,a.showErrorImpossible=!1,setTimeout(function(){var n=angular.element("#data").val();n=n.split("/");var i,s,t=n[1]+"/"+n[0]+"/"+n[2]+" 09:00:00",o=Math.round(new Date(t).getTime()/1e3),l=angular.element("#suacidadeLocation").val(),r=angular.element("#cidadeoutrapessoaLocation").val(),d="https://maps.googleapis.com/maps/api/timezone/json?key=AIzaSyBdKcOOJljK0GCbqaM5EzsSkJorY7ZLsFo&location=",c=d+l+"&timestamp="+o.valueOf(),m=d+r+"&timestamp="+o.valueOf();e({url:c,method:"GET"}).then(function(n){i=calcTime(n.data,o),e({url:m,method:"GET"}).then(function(e){s=calcTime(e.data,o);var n,t=0;i.getHours()>s.getHours()?(n=i-s,s.getHours()<9&&(t=9-s.getHours())):(n=s-i,i.getHours()<9&&(t=9-i.getHours()));var l=parseInt(288e5);n>l?(a.showErrorImpossible=!0,a.showResults=!1):(a.showResults=!0,a.timeA=i.getHours()+t+":"+i.getMinutes(),a.timeB=s.getHours()+t+":"+s.getMinutes())},function(e){a.erroTxt=e.statusText})},function(e){a.erroTxt=e.statusText})},1e3))}}]),angular.element(document).ready(function(a){function e(){var a=angular.element("body > #wrapper").height()-61;angular.element(".sidebard-panel").css("min-height",a+"px");var e=angular.element("nav.navbar-default").height(),n=angular.element("#page-wrapper").height();e>n&&angular.element("#page-wrapper").css("min-height",e+"px"),n>e&&angular.element("#page-wrapper").css("min-height",angular.element(window).height()+"px"),angular.element("body").hasClass("fixed-nav")&&(e>n?angular.element("#page-wrapper").css("min-height",e-60+"px"):angular.element("#page-wrapper").css("min-height",angular.element(window).height()-60+"px"))}angular.element(window).bind("load resize scroll",function(){angular.element("body").hasClass("body-small")||e()}),angular.element(window).scroll(function(){angular.element(window).scrollTop()>0&&!angular.element("body").hasClass("fixed-nav")?angular.element("#right-sidebar").addClass("sidebar-top"):angular.element("#right-sidebar").removeClass("sidebar-top")}),a(function(){e()}),angular.element(window).bind("load resize",function(){angular.element(document).width()<769?angular.element("body").addClass("body-small"):angular.element("body").removeClass("body-small")})}),function(){"use strict";function a(a){a.debug("runBlock end")}a.$inject=["$log"],angular.module("testmax").run(a)}(),function(){"use strict";function a(a,e){a.state("index",{"abstract":!0,url:"/index",templateUrl:"app/components/common/content.html"}).state("index.main",{url:"/main",templateUrl:"app/main/main.html",data:{pageTitle:"Example view"}}).state("index.minor",{url:"/minor",templateUrl:"app/minor/minor.html",data:{pageTitle:"Example view"}}),e.otherwise("/index/main")}a.$inject=["$stateProvider","$urlRouterProvider"],angular.module("testmax").config(a)}(),angular.module("testmax").directive("sideNavigation",["$timeout",function(a){return{restrict:"A",link:function(e,n){e.$watch("authentication.user",function(){a(function(){n.metisMenu()})})}}}]).directive("minimalizaSidebar",["$timeout",function(a){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope",function(e){e.minimalize=function(){angular.element("body").toggleClass("mini-navbar"),!angular.element("body").hasClass("mini-navbar")||angular.element("body").hasClass("body-small")?(angular.element("#side-menu").hide(),a(function(){angular.element("#side-menu").fadeIn(400)},200)):angular.element("#side-menu").removeAttr("style")}}]}}]).directive("googleplace",[function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",details:"=?"},link:function(a,e,n,i){var s={types:["(cities)"]};a.gPlace=new google.maps.places.Autocomplete(e[0],s),google.maps.event.addListener(a.gPlace,"place_changed",function(){var n=a.gPlace.getPlace(),s=n.geometry.location.lat(),t=n.geometry.location.lng(),o=n.address_components;o=o.filter(function(a){switch(a.types[0]){case"locality":return!0;case"administrative_area_level_1":return!0;case"country":return!0;default:return!1}}).map(function(a){return a.long_name}),o.push(s,t),a.$apply(function(){a.details=s+","+t,i.$setViewValue(e.val())})})}}}]),angular.module("testmax").run(["$templateCache",function(a){a.put("app/main/main.html",'<div class="wrapper wrapper-content animated fadeInUp clearfix"><div class="row"><div class="col-lg-12"><div class="text-center m-t-lg"><h1>{{title}}</h1></div></div></div></div><div class="wrapper wrapper-content animated fadeInUp clearfix"><div class="col-lg-12"><div class="row"><div class="ibox"><div class="ibox-title"><h5>Preencha o formulário</h5></div><div class="ibox-content clearfix"><form role="form" name="signup_form2" ng-model="signup_form" class="form-inline" novalidate="" ng-submit="signupForm2()"><div class="row"><div class="form-group col-md-4" id="data_1"><label class="block">Melhor data para reunião</label><div class="input-group date"><input type="text" placeholder="Escolha uma data" ng-model="datanow" class="form-control" id="data" name="data" ng-pattern="/^(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}$/" required=""> <span class="input-group-addon"><i class="fa fa-calendar"></i></span></div><div class="m-t-xs" ng-show="signup_form2.data.$invalid && signup_form2.data.$dirty"><small class="text-danger" ng-show="signup_form2.data.$error.required">Por favor, preencha o campo corretamente</small> <small class="text-danger" ng-show="signup_form2.data.$error.pattern">Data inválida</small></div></div><div class="form-group col-md-4"><label class="block">Sua Cidade</label><div class="input-group clearfix"><input type="text" class="form-control" id="suacidade" name="suacidade" ng-model="suacidade" ng-minlength="3" ng-keyup="hideResults()" ng-blur="mudalocal(signup_form2.$valid)" details="suacidadeLocation" required="" googleplace=""> <span class="input-group-addon"><i class="fa fa-globe"></i></span></div><div class="m-t-xs" ng-show="signup_form2.suacidade.$invalid && signup_form2.suacidade.$dirty"><small class="text-danger" ng-show="signup_form2.suacidade.$error.required && signup_form2.suacidadeLocation.$error.required">Por favor, preencha o campo corretamente</small> <small class="text-danger" ng-show="signup_form2.suacidade.$error.minlength">É necessário preencher no mínimo 3 caracters</small></div></div><div class="form-group col-md-4"><label class="block">Cidade da outra pessoa</label><div class="input-group"><input type="text" class="form-control" id="cidadeoutrapessoa" name="cidadeoutrapessoa" ng-model="cidadeoutrapessoa" ng-minlength="3" ng-keyup="hideResults()" ng-blur="mudalocal(signup_form2.$valid)" details="cidadeoutrapessoaLocation" required="" googleplace=""> <span class="input-group-addon"><i class="fa fa-globe"></i></span></div><div class="m-t-xs" ng-show="showResult"><small class="text-danger" ng-show="signup_form2.cidadeoutrapessoa.$error.required">Por favor, preencha o campo corretamente</small> <small class="text-danger" ng-show="signup_form2.cidadeoutrapessoa.$error.minlength">É necessário preencher no mínimo 3 caracters</small></div></div><input type="hidden" id="suacidadeLocation" name="suacidadeLocation" value="{{suacidadeLocation}}" required=""> <input type="hidden" id="cidadeoutrapessoaLocation" name="cidadeoutrapessoaLocation" value="{{cidadeoutrapessoaLocation}}" required=""></div><div ng-show="showErrorImpossible" class="alert alert-danger m-t-sm">As cidades escolhidas possuem uma diferença de horário maior que 8 horas, impossibilitando a marcação de reuniões em horário comercial.</div></form></div></div></div></div><div class="col-lg-12" ng-show="showResults"><div class="row"><div class="ibox"><div class="ibox-title"><h5>Horário da Reunião</h5></div><div class="ibox-content"><p class="gray-bg p-xs b-r-sm"><span class="text-muted">{{suacidade}} -</span> {{datanow}} {{timeA}}</p><p class="gray-bg p-xs b-r-sm"><span class="text-muted">{{cidadeoutrapessoa}} -</span> {{datanow}} {{timeB}}</p></div></div></div></div></div>'),a.put("app/components/common/content.html",'<div id="wrapper"><div ng-include="\'app/components/common/navigation.html\'"></div><div id="page-wrapper" class="gray-bg {{$state.current.name}}"><div ng-include="\'app/components/common/topnavbar.html\'"></div><div ui-view=""></div><div ng-include="\'app/components/common/footer.html\'"></div></div></div>'),a.put("app/components/common/footer.html",'<div class="footer"><div class="pull-right">fabricio.desouza@yahoo.com.br</div><div><strong>Copyright</strong> &copy; 2017</div></div>'),a.put("app/components/common/navigation.html",'<nav class="navbar-default navbar-static-side" role="navigation"><div class="slimScrollDiv"><div class="sidebar-collapse"><ul side-navigation="" class="nav metismenu" id="side-menu"><li class="nav-header"><div class="profile-element" uib-dropdown=""><img alt="image" class="img-circle" src="../assets/images/profile_small.jpg"> <a uib-dropdown-toggle="" href=""><span class="clear"><span class="block m-t-xs"><strong class="font-bold">{{userName}}</strong></span></span></a></div><div class="logo-element">MaxMilhas</div></li><li ui-sref-active="active"><a ui-sref="index.main"><i class="fa fa-calendar"></i> <span class="nav-label">Marcador de reunião internacional</span></a></li></ul></div></div></nav>'),a.put("app/components/common/topnavbar.html",'<div class="row border-bottom"><nav class="navbar navbar-fixed-top" role="navigation" style="margin-bottom: 0"><div class="navbar-header"><span minimaliza-sidebar=""></span> <img alt="image" class="m-t-sm" src="../assets/images/logo.png"></div><ul class="nav navbar-top-links navbar-right"><li><a href=""><i class="fa fa-sign-out"></i> Log out</a></li></ul></nav></div>')}]);
//# sourceMappingURL=../maps/scripts/app-006747532d.js.map
