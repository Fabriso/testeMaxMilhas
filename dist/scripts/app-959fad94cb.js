function calcTime(e,a){var n=1e3*e.dstOffset+1e3*e.rawOffset,i=new Date(1e3*a+n);return i}!function(){"use strict";angular.module("testmax",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap"])}(),angular.module("testmax").controller("MainController",["$scope","$http",function(e,a){e.userName="Fabrício de Souza",e.title="Marcador de reunião internacional",e.dataRegex="",e.detalhes="",e.hideResults=function(){e.showResults=!1,e.showErrorImpossible=!1,e.erroTxt=!1},e.mudalocal=function(n){n&&(e.showResults=!1,e.showErrorImpossible=!1,setTimeout(function(){var n=angular.element("#data").val();n=n.split("/");var i,t,o=n[1]+"/"+n[0]+"/"+n[2]+" 09:00:00",s=Math.round(new Date(o).getTime()/1e3),r=angular.element("#suacidadeLocation").val(),l=angular.element("#cidadeoutrapessoaLocation").val(),d="https://iimaps.googleapis.com/maps/api/timezone/json?key=AIzaSyBdKcOOJljK0GCbqaM5EzsSkJorY7ZLsFo&location=",c=d+r+"&timestamp="+s.valueOf(),u=d+l+"&timestamp="+s.valueOf();a({url:c,method:"GET"}).then(function(n){i=calcTime(n.data,s),a({url:u,method:"GET"}).then(function(a){t=calcTime(a.data,s);var n,o=0;i.getHours()>t.getHours()?(n=i-t,t.getHours()<9&&(o=9-t.getHours())):(n=t-i,i.getHours()<9&&(o=9-i.getHours()));var r=parseInt(288e5);if(n>r)e.showErrorImpossible=!0,e.showResults=!1;else{e.showResults=!0;var l=i.getHours()+o>12?i.getHours()+o-12:i.getHours()+o,d=t.getHours()+o>12?t.getHours()+o-12:t.getHours()+o,c=i.getHours()+o>12?" PM":" AM",u=t.getHours()+o>12?" PM":" AM";e.timeA=l+":"+(i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes())+c,e.timeB=d+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+u}},function(a){console.log(a.statusText),e.erroTxt=!0})},function(a){console.log(a.statusText),e.erroTxt=!0})},1e3))}}]),angular.element(document).ready(function(e){function a(){var e=angular.element("body > #wrapper").height()-61;angular.element(".sidebard-panel").css("min-height",e+"px");var a=angular.element("nav.navbar-default").height(),n=angular.element("#page-wrapper").height();a>n&&angular.element("#page-wrapper").css("min-height",a+"px"),n>a&&angular.element("#page-wrapper").css("min-height",angular.element(window).height()+"px"),angular.element("body").hasClass("fixed-nav")&&(a>n?angular.element("#page-wrapper").css("min-height",a-60+"px"):angular.element("#page-wrapper").css("min-height",angular.element(window).height()-60+"px"))}angular.element(window).bind("load resize scroll",function(){angular.element("body").hasClass("body-small")||a()}),angular.element(window).scroll(function(){angular.element(window).scrollTop()>0&&!angular.element("body").hasClass("fixed-nav")?angular.element("#right-sidebar").addClass("sidebar-top"):angular.element("#right-sidebar").removeClass("sidebar-top")}),e(function(){a()}),angular.element(window).bind("load resize",function(){angular.element(document).width()<769?angular.element("body").addClass("body-small"):angular.element("body").removeClass("body-small")})}),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("testmax").run(e)}(),function(){"use strict";function e(e,a){e.state("index",{"abstract":!0,url:"/index",templateUrl:"app/components/common/content.html"}).state("index.main",{url:"/main",templateUrl:"app/main/main.html",data:{pageTitle:"Example view"}}).state("index.minor",{url:"/minor",templateUrl:"app/minor/minor.html",data:{pageTitle:"Example view"}}),a.otherwise("/index/main")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("testmax").config(e)}(),angular.module("testmax").directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(a,n){a.$watch("authentication.user",function(){e(function(){n.metisMenu()})})}}}]).directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope",function(a){a.minimalize=function(){angular.element("body").toggleClass("mini-navbar"),!angular.element("body").hasClass("mini-navbar")||angular.element("body").hasClass("body-small")?(angular.element("#side-menu").hide(),e(function(){angular.element("#side-menu").fadeIn(400)},200)):angular.element("#side-menu").removeAttr("style")}}]}}]).directive("datepicker",function(){return{restrict:"A",require:"ngModel",link:function(e,a,n,i){var t=function(a){e.$apply(function(){i.$setViewValue(a)})},o={dateFormat:"dd/mm/yy",dayNames:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],dayNamesMin:["D","S","T","Q","Q","S","S","D"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab","Dom"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],nextText:"Próximo",prevText:"Anterior",minDate:new Date,maxDate:"+1Y",beforeShowDay:angular.element.datepicker.noWeekends,onSelect:function(e){t(e)}};angular.element(a).datepicker(o)}}}).directive("googleplace",[function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",details:"=?"},link:function(e,a,n,i){var t={types:["(cities)"]};e.gPlace=new google.maps.places.Autocomplete(a[0],t),google.maps.event.addListener(e.gPlace,"place_changed",function(){var n=e.gPlace.getPlace(),t=n.geometry.location.lat(),o=n.geometry.location.lng(),s=n.address_components;s=s.filter(function(e){switch(e.types[0]){case"locality":return!0;case"administrative_area_level_1":return!0;case"country":return!0;default:return!1}}).map(function(e){return e.long_name}),s.push(t,o),e.$apply(function(){e.details=t+","+o,i.$setViewValue(a.val())})})}}}]),angular.module("testmax").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class="wrapper wrapper-content animated fadeInUp clearfix"><div class="row"><div class="col-lg-12"><div class="text-center m-t-lg"><h1>{{title}}</h1></div></div></div></div><div class="wrapper wrapper-content animated fadeInUp clearfix"><div class="col-lg-12"><div class="row"><div class="ibox"><div class="ibox-title"><h5>Preencha o formulário</h5></div><div class="ibox-content clearfix"><form role="form" name="signup_form2" ng-model="signup_form" class="form-inline" novalidate="" ng-submit="signupForm2()"><div class="row"><div class="form-group col-md-4" id="data_1"><label class="block">Melhor data para reunião</label><div class="input-group date"><input type="text" placeholder="Escolha uma data" ng-model="datanow" class="form-control" id="data" name="data" ng-pattern="/^(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}$/" required="" datepicker=""> <span class="input-group-addon"><i class="fa fa-calendar"></i></span></div><div class="m-t-xs" ng-show="signup_form2.data.$invalid && signup_form2.data.$dirty"><small class="text-danger" ng-show="signup_form2.data.$error.required">Por favor, preencha o campo corretamente</small> <small class="text-danger" ng-show="signup_form2.data.$error.pattern">Data inválida</small></div></div><div class="form-group col-md-4"><label class="block">Sua Cidade</label><div class="input-group clearfix"><input type="text" class="form-control" id="suacidade" name="suacidade" ng-model="suacidade" ng-minlength="3" ng-keyup="hideResults()" ng-blur="mudalocal(signup_form2.$valid)" details="suacidadeLocation" required="" googleplace=""> <span class="input-group-addon"><i class="fa fa-globe"></i></span></div><div class="m-t-xs" ng-show="signup_form2.suacidade.$invalid && signup_form2.suacidade.$dirty"><small class="text-danger" ng-show="signup_form2.suacidade.$error.required && signup_form2.suacidadeLocation.$error.required">Por favor, preencha o campo corretamente</small> <small class="text-danger" ng-show="signup_form2.suacidade.$error.minlength">É necessário preencher no mínimo 3 caracters</small></div></div><div class="form-group col-md-4"><label class="block">Cidade da outra pessoa</label><div class="input-group"><input type="text" class="form-control" id="cidadeoutrapessoa" name="cidadeoutrapessoa" ng-model="cidadeoutrapessoa" ng-minlength="3" ng-keyup="hideResults()" ng-blur="mudalocal(signup_form2.$valid)" details="cidadeoutrapessoaLocation" required="" googleplace=""> <span class="input-group-addon"><i class="fa fa-globe"></i></span></div><div class="m-t-xs" ng-show="showResult"><small class="text-danger" ng-show="signup_form2.cidadeoutrapessoa.$error.required">Por favor, preencha o campo corretamente</small> <small class="text-danger" ng-show="signup_form2.cidadeoutrapessoa.$error.minlength">É necessário preencher no mínimo 3 caracters</small></div></div><input type="hidden" id="suacidadeLocation" name="suacidadeLocation" value="{{suacidadeLocation}}" required=""> <input type="hidden" id="cidadeoutrapessoaLocation" name="cidadeoutrapessoaLocation" value="{{cidadeoutrapessoaLocation}}" required=""></div><div ng-show="showErrorImpossible" class="alert alert-danger m-t-sm">As cidades escolhidas possuem uma diferença de horário maior que 8 horas, impossibilitando a marcação de reuniões em horário comercial.</div><div ng-show="erroTxt" class="alert alert-danger m-t-sm">Aconteceu algum erro durante a sua solicitação. Por favor, tente novamente.</div></form></div></div></div></div><div class="col-lg-12" ng-show="showResults"><div class="row"><div class="ibox"><div class="ibox-title"><h5>Horário da Reunião</h5></div><div class="ibox-content"><p class="gray-bg p-xs b-r-sm"><span class="text-muted">{{suacidade}} -</span> {{datanow}} {{timeA}}</p><p class="gray-bg p-xs b-r-sm"><span class="text-muted">{{cidadeoutrapessoa}} -</span> {{datanow}} {{timeB}}</p></div></div></div></div></div>'),e.put("app/components/common/content.html",'<div id="wrapper"><div ng-include="\'app/components/common/navigation.html\'"></div><div id="page-wrapper" class="gray-bg {{$state.current.name}}"><div ng-include="\'app/components/common/topnavbar.html\'"></div><div ui-view=""></div><div ng-include="\'app/components/common/footer.html\'"></div></div></div>'),e.put("app/components/common/footer.html",'<div class="footer"><div class="pull-right">fabricio.desouza@yahoo.com.br</div><div><strong>Copyright</strong> &copy; 2017</div></div>'),e.put("app/components/common/navigation.html",'<nav class="navbar-default navbar-static-side" role="navigation"><div class="slimScrollDiv"><div class="sidebar-collapse"><ul side-navigation="" class="nav metismenu" id="side-menu"><li class="nav-header"><div class="profile-element" uib-dropdown=""><img alt="image" class="img-circle" src="../assets/images/profile_small.jpg"> <a uib-dropdown-toggle="" href=""><span class="clear"><span class="block m-t-xs"><strong class="font-bold">{{userName}}</strong></span></span></a></div><div class="logo-element">MaxMilhas</div></li><li ui-sref-active="active"><a ui-sref="index.main"><i class="fa fa-calendar"></i> <span class="nav-label">Marcador de reunião internacional</span></a></li></ul></div></div></nav>'),e.put("app/components/common/topnavbar.html",'<div class="row border-bottom"><nav class="navbar navbar-fixed-top" role="navigation" style="margin-bottom: 0"><div class="navbar-header"><span minimaliza-sidebar=""></span> <img alt="image" class="m-t-sm" src="../assets/images/logo.png"></div><ul class="nav navbar-top-links navbar-right"><li><a href=""><i class="fa fa-sign-out"></i> Log out</a></li></ul></nav></div>')}]);
//# sourceMappingURL=../maps/scripts/app-959fad94cb.js.map
